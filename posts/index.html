
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>All Posts - Creative Coding</title>
  <meta name="author" content="Sammy Steiner">

  
  <meta name="description" content="All Posts Dynamic Forms in React: Part 2 Recap of Part 1 In Part 1, we talked about simple forms in React. Namely, we talked about controlling &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sammysteiner.github.io/posts">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Creative Coding" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Creative Coding</a></h1>
  
    <h2>A Creative Writer's Guide to Code</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscribe" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 13.310204,73.332654 C 5.967347,73.332654 0,79.322448 0,86.621428 c 0,7.338776 5.967347,13.262246 13.310204,13.262246 7.370408,0 13.328572,-5.92245 13.328572,-13.262246 0,-7.29898 -5.958164,-13.288774 -13.328572,-13.288774 z M 0.01530612,33.978572 V 53.143878 C 12.493878,53.143878 24.229592,58.02347 33.068368,66.865306 41.894898,75.685714 46.767346,87.47449 46.767346,100 h 19.25 C 66.017346,63.592858 36.4,33.979592 0.01530612,33.978572 l 0,0 z M 0.03877552,0 V 19.17449 C 44.54796,19.17551 80.77551,55.437756 80.77551,100 H 100 C 100,44.87653 55.15102,0 0.03877552,0 z"></path></svg></a></li>
  
</ul>
  
  
  
  
  
  
  
  
  
  
    
      <form action="https://www.google.com/search" method="get">
        <fieldset role="search">
          <input type="hidden" name="sitesearch" value="sammysteiner.github.io" />
    
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="all-posts">
  <div class="container">
    <div class="row">
      <div class="list-title col-md-offset-3 col-md-6">
        <h4>All Posts</h4>
      </div>
    </div>
  </div>

  <div class="article-list">
    <div class="container">
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/07/05/dynamic-forms-in-react-part-2/">Dynamic Forms in React: Part 2</a></h2>
  
  <p>
    <h2>Recap of Part 1</h2>




<p>In <a href="" title="https://sammysteiner.github.io/blog/2017/07/02/dynamic-forms-in-react/">Part 1</a>, we talked about simple forms in React. Namely, we talked about controlling inputs, updating state, and handling submissions. All of that assumes our form is static and we know the shape of our state. &lsquo;Shape&rsquo; in this context means the data contained in the state object, the keys, the types of values, etc.</p>




<p>In part two, we&rsquo;re going to talk about a more complex form. This form needs a way to update itself, and because we want to control the inputs, the form needs a way to update the state. Finally, when we send off our state object to an API, we need to know how to deconstruct that state regardless of how many phases and actions a user added to our form.</p>




<p>Here&rsquo;s our gif from Part 1 to demonstrate the kind of form interaction we&rsquo;re going for:
<img src="/assets/goalForm.gif" alt="Dynamic form gif" /></p>




<h2>Designing the Form UX</h2>




<p>When writing code in react, I find it helpful to start with the design I want to implement. Starting from the design makes it really easy for me to think through the components I want to build, now to nest them, and what props they&rsquo;ll need to work with.</p>




<p>The first part of the form i pretty standard. Each goal should have a title and a description. I find it really helpful to think about the description as the motivation behind the goal. ie. &ldquo;I want to go to the gym twice a week to get in shape for the summer.&rdquo; or &ldquo;I want to go get ready to run a half marathon by September.&rdquo; I find it&rsquo;s really helpful to break down big goals into manageable bits of work, and give myself a set amount of time to finish my task. Deadlines are my friend!</p>




<p>This tells me I want a button in my form to add a &ldquo;phase&rdquo;. A phase should have a timeframe, a number of days within which I need to complete this task, and a button to create actions. Each time I press this button, I need a new input for a description of an action. So we are creating dynamic inputs inside dynamically created inputs in a form with controlled inputs. That was a pretty scary problem to start with. But I knew my next step and it seemed like a fun thought challenge. How do I model this data?</p>




<h2>Modeling the Data</h2>




<p>The process of defining my state took a couple iterations to determine the best way to structure my data so it would play nicely with my database and wouldn&rsquo;t require more looping than necessary. I started with what was going to be static, since that was pretty simple.</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  state = {
</span><span class='line'>    title: '',
</span><span class='line'>    description: '',
</span><span class='line'>    repeat: false,
</span><span class='line'>    // Some way to show all our goals
</span><span class='line'>  }</span></code></pre></td></tr></table></div></figure>




<p>Great that&rsquo;s three quarters of our state defined! We&rsquo;re 75% done with this.</p>




<p>We&rsquo;re going to want to have a list of goals, in order so we know which comes first, second, etc. That means we want an array of goals. Each element of our goal array is going to need a phase length and a list of actions. That means each element of our goal array is going to be an object with two keys, &ldquo;phase&rdquo; and &ldquo;actions&rdquo;. Actions is going to be a list of descriptions, that sounds like an array.</p>




<p>Writing that out gives us this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>goals: [
</span><span class='line'>  {
</span><span class='line'>    phase: '',
</span><span class='line'>    actions: []
</span><span class='line'>  }
</span><span class='line'>]</span></code></pre></td></tr></table></div></figure>




<p>When we start filling this up with goals, our state will eventually look like this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  state ={
</span><span class='line'>    title: as a string,
</span><span class='line'>    description: as a text area,
</span><span class='line'>    repeat: true of false boolean,
</span><span class='line'>    goals: [
</span><span class='line'>      {
</span><span class='line'>        phase: length as a number,
</span><span class='line'>        actions: [
</span><span class='line'>          description for action 1, description for action 2, etc.
</span><span class='line'>        ]
</span><span class='line'>      },
</span><span class='line'>      {
</span><span class='line'>        phase: length as a number,
</span><span class='line'>        actions: [
</span><span class='line'>          description for action 1, description for action 2, etc.
</span><span class='line'>        ]
</span><span class='line'>      },
</span><span class='line'>      etc.
</span><span class='line'>    ]
</span><span class='line'>  }</span></code></pre></td></tr></table></div></figure>




<p>Ok, that looks reasonable! Now that we know what we want the state to look like, and how it will be modified at each step of our user&rsquo;s journey through the form, we can start thinking through the code to make that happen.</p>




<h2>Sudo Code for the Form</h2>




<p>We&rsquo;re just going to sudo code this for the blog because the actual code gets very long, and a bit hairy because I decided to put it inside a modal. If you want to check out the actual code, you can find a link to my repo <a href="" title="https://github.com/SammySteiner/habits-client">here</a>.</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  &lt;form onSubmit={send our form data to the API}&gt;
</span><span class='line'>    &lt;input type='text' name='title' value={this.state.title} onChange={update the state with this change}/&gt;
</span><span class='line'>    &lt;input type='text' name='description' value={this.state.title} onChange={update the state with this change}/&gt;
</span><span class='line'>    &lt;input type='textArea' name='repeat' value={this.state.description} onChange={update the state with this change}/&gt;
</span><span class='line'>    &lt;input type='checkbox' checked={this.state.repeat} onChange={update the state with this change}/&gt;
</span><span class='line'>    &lt;button type='button' onClick={ call our add phase function }&gt;Add Phase&lt;/button&gt;
</span><span class='line'>    &lt;input type='submit' value='submit' name='Create Goal'/&gt;
</span><span class='line'>    &lt; render all the Goal components based on the goals in the state &gt;
</span><span class='line'>  &lt;/form&gt;
</span><span class='line'>
</span><span class='line'>  addPhaseFunction(){
</span><span class='line'>    copy the state
</span><span class='line'>    add a new element to the goals array with the object we described above
</span><span class='line'>  }</span></code></pre></td></tr></table></div></figure>




<p>Then we need to import a goal component that maps over each element of the goals array and displays a phase input that is controlled by the value of the phase key in the object of the goals array. We also need to pass that input a function to update the phase in the state on change.</p>




<p>Additionally our goal component needs to show a button similar to the &ldquo;Add Phase&rdquo; button, but this one will say Add action. It only needs to update the state by pushing an empty string onto the actions array in the  object.</p>




<p>Finally, our goal component needs to map over the action components and display in input for each of them. It then needs to use that element in the actions array to control the state and pass that input a function to update that state.</p>




<p>This should update our state dynamically, add goal objects to our goals array, add action descriptions to the actions array of it&rsquo;s associated goals in the goals array. Our form component will keep updating every time the state is set by showing the new components with the new buttons and inputs they are mapping over. And Voila, it works!</p>




<h2>Conclusion</h2>




<p>There are some pretty cool things you can do with react. This form was a really fun challenge, and I&rsquo;m really proud of what I built and I learned a lot in the process. If you want to check out the app in action, you can find it <a href="" title="habits-sammy-steiner.herokuapp.com">here</a> hosted on heroku for free, so I apologize for the loading time.</p>




<p>Thanks for checking it out!</p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-07-05T11:14:22-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>11:14 am</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/dynamic/'>dynamic</a>, <a class='category' href='/blog/categories/forms/'>forms</a>, <a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/nested/'>nested</a>, <a class='category' href='/blog/categories/react/'>react</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/07/02/dynamic-forms-in-react/">Dynamic Forms in React: Part 1, Regular React Forms</a></h2>
  
  <p>
    <h2>What is a Nested Dynamic Form</h2>




<p>Sometimes a form needs to expect the unexpected. When that happens, when the user needs freedom and flexibility, old-school forms just wont cut it. For <a href="" title="habits-sammy-steiner.herokuapp.com">Habits</a>, I wanted to give the user the ability to add as many fields to the form as they needed to express their goal.</p>




<p>Habits is an activity tracking app that is part accountability through gamificaiton, part exploration of the quantified self, and part guided self betterment. When using the Goal creation form, users are encouraged to give their goal a name, as well as a brief description or motivational sentence. Then, users are asked to divide their goal into smaller, more manageable chunks, divided into phases of time, and each phase is comprised of various actions. When the goal is created, the user&rsquo;s inputs are translated into a card that allows them to check off what they&rsquo;ve accomplished toward their goal, divides up the work according to their schedule, and gives them insights into their progress.</p>




<p>In order to cover all that, our form needs to be very special. This is what it&rsquo;s going to look like:</p>




<p><img src="/assets/goalForm.gif" alt="Dynamic form gif" /></p>




<p>But we won&rsquo;t get to that in this post. In this post, we will go through the basics of React forms to get us up to speed for what&rsquo;s coming in our next post.</p>




<h2>Standard Javascript Forms</h2>




<p>Let&rsquo;s build a simple from to accept a &lsquo;name&rsquo; input from the user and send if off to our database, in vanilla Javascript. Here&rsquo;s what our form would look like.</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;form id="goal-form"&gt;
</span><span class='line'>  &lt;input type="text" id="name" name="name" /&gt;  
</span><span class='line'>  &lt;input type="submit" value="submit"&gt;
</span><span class='line'>&lt;/form&gt;</span></code></pre></td></tr></table></div></figure>




<p>Next we need to create an event handler on window.load to listen for the submit event and hanle sending our information to the api.</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>document.querySelector("#goal-form").addEventListener("submit", function(e){
</span><span class='line'>    e.preventDefault()    
</span><span class='line'>    // stop the form from submitting and refreshing the page
</span><span class='line'>    // you can add some validations here
</span><span class='line'>    var name = document.getElementById('name').value
</span><span class='line'>    return createGoal(name)
</span><span class='line'>    // calling some function that sends a post request to our api with the value of the name input.    
</span><span class='line'>})</span></code></pre></td></tr></table></div></figure>




<p>That&rsquo;s one way to do things in vanilla Javascript. It&rsquo;s messy, slow, and not very efficient. Things can get even crazier when there are lots of elements on your page. Searching through all those DOM nodes can get expensive. And when we want to do something dynamic in our form, like in the example above, this process can get very complicated very quickly. React gives us a better way.</p>




<h2>Controlled inputs</h2>




<p>In React, we try and stay away from the DOM, and use the virtual DOM instead. This means that when we go and look at what the user entered in our form, instead of checking for the form input values in the DOM, we store it in temporary memory, in the React component&rsquo;s state, and just grab it from there when we&rsquo;re ready.</p>




<p>Our React state for a name input looks like this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>...
</span><span class='line'>export default class GoalForm extends Component {
</span><span class='line'>  constructor(){
</span><span class='line'>    super()
</span><span class='line'>    this.state = {
</span><span class='line'>      name: ''
</span><span class='line'>    }
</span><span class='line'>  }
</span><span class='line'>}
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>




<p>All this does is create a GoalForm class component in React with a state object that has a value of &lsquo;name&rsquo;, which points to an empty string.</p>




<p>Instead of having the React component store the information of the user&rsquo;s input and have the user&rsquo;s input be stored in the DOM, which would break the single source of truth convention, we just have the component&rsquo;s value display the state. That is called a controlled input.</p>




<p>Our form looks like this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;form onSubmit={this.handleSubmit.bind(this)}&gt;
</span><span class='line'>  &lt;input label='name' type='text' value={this.state.name} onChange={this.handleChange.bind(this)} /&gt;
</span><span class='line'>  &lt;input type='submit' value='submit' /&gt;
</span><span class='line'>&lt;/form&gt;</span></code></pre></td></tr></table></div></figure>




<p>This form has one text input field for a name, that shows the value of the name object in the component&rsquo;s state. When a user enters something in the input field, that input is intercepted by our handleChange function, which updates the state, the Component is re-rendered, and the new state is shown as the value.</p>




<h2>Handling Changes and form Submission</h2>




<p>Our handleSubmit and handleChange functions look like this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>handleSubmit(e){
</span><span class='line'>  e.preventDefault()
</span><span class='line'>  this.props.createGoal(this.state.name)
</span><span class='line'>  // this is a function passed down from another component via props. In this case, it will send a post request to an api with the 'name' the user entered.
</span><span class='line'>  this.setState({name: ''})
</span><span class='line'>  // this.setState is a React function that sets the state of the current component to the argument that is passed in and it also forces the component to re-render.
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>handleChange(e){
</span><span class='line'>  e.preventDefault()
</span><span class='line'>  this.setState({name: e.target.value })
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>




<h2>Conclusion</h2>




<p>This is a lot to wrap your head around, controlled inputs, preventing a lot of default actions, completely sidestepping the DOM! I know, it&rsquo;s a lot. But it&rsquo;s about to get crazier. In part two, we&rsquo;ll discuss how to give the user the ability to dynamically add inputs in this controlled system. Stay tuned for part II</p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-07-02T22:11:18-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2017</span></span> <span class='time'>10:11 pm</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/dynamic/'>dynamic</a>, <a class='category' href='/blog/categories/forms/'>forms</a>, <a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/nested/'>nested</a>, <a class='category' href='/blog/categories/react/'>react</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/06/04/generate-unique-and-random-x-and-y-coordinates/">Building a Game: Generate Unique and Random X and Y Coordinates</a></h2>
  
  <p>
    <h2>Why would I need some random coordinates?</h2>




<p>I want to build a game. This game is going to have a dungeon, represented by tiles on a game board, and it will be randomly populated with a door, a key, a bunch of monsters and the player&rsquo;s starting position. My database schema is expecting an &lsquo;x&rsquo; and &lsquo;y&rsquo; coordinates for each of these, but to make my game work, I need to make sure that none of these start off on the same square. It wouldn&rsquo;t be very challenging if the key and door could appear on the same spot. It wouldn&rsquo;t be fun if the player spawned on the same tile as a monster and lost the game immediately! There are lots of reasons you might want to generate a number of unique &lsquo;x&rsquo; and &lsquo;y&rsquo; coordinates for a grid of a given size, this would work for all of them.</p>




<h2>What do I want my result to look like?</h2>




<p>We&rsquo;re going to start simple and build out more complexity as we get things working. As I said, I need a coordinate for the door, a key, the player and some monsters, that&rsquo;s a minimum of four coordinates and we need a board that is two squares by two squares to fit everything. In this case, I&rsquo;m using all the possible coordinates, so I want my final outcome to look something like this hash of info:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>game_coordinates = {
</span><span class='line'>  player: {x: 1, y: 1},
</span><span class='line'>  door: {x:1, y:2},
</span><span class='line'>  key: {x:2, y:1},
</span><span class='line'>  monster: [
</span><span class='line'>  {x: 2, y: 2}
</span><span class='line'>  ]
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>




<p>Let&rsquo;s zoom in on the first problem we want to solve. Getting ourselves the list of unique &lsquo;x&rsquo; and &lsquo;y&rsquo; coordinates. This sounds like we want to use an array, which we would ultimately need to iterate over to assign values. For now, our array should look like this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>unique_coordinates = [[1,1], [1,2], [2,1], [2,2]]</span></code></pre></td></tr></table></div></figure>




<p>We will use this array later to assign the coordinates to the door, key, player, and monster. Let&rsquo;s break down what we are seeing. This isn&rsquo;t one simple array, it&rsquo;s an array of arrays. Each of the nested arrays represents a unique set of &lsquo;x&rsquo; and &lsquo;y&rsquo; coordinates. We can also have two arrays for the x and the y values:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>x_values = [1, 1, 2, 2]
</span><span class='line'>y_values = [1, 1, 2, 2]</span></code></pre></td></tr></table></div></figure>




<p>If we look a little closer, the arrays shouldn&rsquo;t both be in order like that. In our unique_coordinates array, they &lsquo;x&rsquo; values repeat then increment while the &lsquo;y&rsquo; values increment then repeat. So we want values that look like this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>x_values = [1, 1, 2, 2]
</span><span class='line'>y_values = [1, 2, 1, 2]</span></code></pre></td></tr></table></div></figure>




<h2>Let&rsquo;s hard code this to get started</h2>




<p>Now that we have the basic building blocks for our data structure, let&rsquo;s put it together assuming we have the unique values we need. In our two by two grid, with the x_values and y_values arrays, all we need to do is a simple loop to get our unique_coordinates array, and pull off four coordinates at random:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="n">unique_coordinates_generator</span> <span class="o">=</span>
</span><span class='line'><span class="n">x_values</span><span class="o">.</span><span class="n">each_with_index</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="p">,</span> <span class="n">index</span><span class="o">|</span>
</span><span class='line'>  <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y_values</span><span class="o">[</span><span class="n">index</span><span class="o">]]</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span><span class='line'><span class="c1"># &gt;&gt;&gt; [[1,1], [1,2], [2,1], [2,2]]</span>
</span></code></pre></td></tr></table></div></figure>




<p>Perfect! Just note that if you&rsquo;re following along, your coordinates may be in a different order, that&rsquo;s exactly what we want. They should all be unique.</p>




<p>To assign each of these to our game board objects, we can do this by assigning each a value from the unique_coordinates_generator. This isn&rsquo;t the prettiest way to do this, but it will work.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="n">player</span> <span class="o">=</span> <span class="n">unique_coordinates_generator</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'><span class="n">door</span> <span class="o">=</span> <span class="n">unique_coordinates_generator</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'><span class="n">key</span> <span class="o">=</span> <span class="n">unique_coordinates_generator</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'><span class="n">monsters</span> <span class="o">=</span> <span class="o">[</span> <span class="n">unique_coordinates_generator</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>this looks great. The next step is to abstract this to handle grids of any size, with more than four coordinates to accommodate multiple monsters.</p>




<h2>Abstraction</h2>




<p>To state our problem here more simply, we want to create our x_values and y_values arrays for grids larger than two by two. That means, the size of the grid would need to be an argument. Additionally we can infer from the fact that we need to accommodate a variable number of monsters that the number of monsters will also be an argument. So the skeleton of our code should look something like this:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="k">def</span> <span class="nf">coord_generator</span><span class="p">(</span><span class="n">grid_size</span><span class="p">,</span> <span class="n">number_of_monsters</span><span class="p">)</span>
</span><span class='line'>  <span class="c1"># some code that creates:</span>
</span><span class='line'>  <span class="c1"># x values from 1 to the grid size, where we get a 1 the grid_size number of times, followed by a 2 the grid_size number of times, etc.</span>
</span><span class='line'>  <span class="c1"># y values that count from 1 to the grid_size number for the grid_size number of times.</span>
</span><span class='line'>  <span class="c1"># then we map over the arrays like we did before.</span>
</span><span class='line'>  <span class="c1"># finally we sample the array with the number of monsters plus the door, key, and player.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>Now that we&rsquo;ve stubbed that out in sudo code. It is really easy to translate that to code using some simple ruby operators:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="k">def</span> <span class="nf">coord_generator</span><span class="p">(</span><span class="n">grid_size</span><span class="p">,</span> <span class="n">number_of_monsters</span><span class="p">)</span>
</span><span class='line'>    <span class="n">x_values</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="o">.</span><span class="n">.grid_size</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span> <span class="o">*</span> <span class="n">grid_size</span><span class="p">)</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span><span class='line'>    <span class="n">y_values</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="o">.</span><span class="n">.grid_size</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span> <span class="o">*</span> <span class="n">grid_size</span><span class="p">)</span>
</span><span class='line'>    <span class="n">unique_coordinates</span> <span class="o">=</span> <span class="n">x_values</span><span class="o">.</span><span class="n">each_with_index</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="p">,</span> <span class="n">index</span><span class="o">|</span>
</span><span class='line'>      <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y_values</span><span class="o">[</span><span class="n">index</span><span class="o">]]</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="n">unique_coordinates</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">number_of_monsters</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<h2>Conclusion</h2>




<p>We&rsquo;ve almost finished, but we still have one thing left to do, we need to output our game_coordinates object. To do that, we need to assign the values like we demonstrated above, but we also need to account for having several monsters.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="k">def</span> <span class="nf">game_coordinates</span><span class="p">(</span><span class="n">grid_size</span><span class="p">,</span> <span class="n">number_of_monsters</span><span class="p">)</span>
</span><span class='line'>  <span class="n">unique_coordinates</span> <span class="o">=</span> <span class="n">coord_generator</span><span class="p">(</span><span class="n">grid_size</span><span class="p">,</span> <span class="n">number_of_monsters</span><span class="p">)</span>
</span><span class='line'>  <span class="n">player</span> <span class="o">=</span> <span class="n">unique_coordinates</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'>  <span class="n">door</span> <span class="o">=</span> <span class="n">unique_coordinates</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'>  <span class="n">key</span> <span class="o">=</span> <span class="n">unique_coordinates</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'>  <span class="n">monsters</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="n">number_of_monsters</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
</span><span class='line'>     <span class="n">monsters</span> <span class="o">&lt;&lt;</span> <span class="n">unique_coordinates</span><span class="o">[</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">i</span><span class="o">]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="n">game_coords</span> <span class="o">=</span> <span class="p">{</span><span class="ss">player</span><span class="p">:</span> <span class="p">{</span><span class="ss">x</span><span class="p">:</span> <span class="n">player</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="ss">y</span><span class="p">:</span> <span class="n">player</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">},</span> <span class="ss">door</span><span class="p">:</span> <span class="p">{</span><span class="ss">x</span><span class="p">:</span> <span class="n">door</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="ss">y</span><span class="p">:</span> <span class="n">door</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">},</span> <span class="ss">key</span><span class="p">:</span> <span class="p">{</span><span class="ss">x</span><span class="p">:</span> <span class="n">key</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="ss">y</span><span class="p">:</span> <span class="n">key</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">},</span> <span class="ss">monsters</span><span class="p">:</span> <span class="n">monsters</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">monster</span><span class="o">|</span>
</span><span class='line'>    <span class="o">[</span><span class="ss">x</span><span class="p">:</span> <span class="n">monster</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="ss">y</span><span class="p">:</span> <span class="n">monster</span><span class="o">[</span><span class="mi">1</span><span class="o">]]</span>
</span><span class='line'>  <span class="k">end</span><span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>When we call this method with a grid size of two and one monster, we get the results:</p>




<pre><code class="`"> {
   :player=&gt;{:x=&gt;2, :y=&gt;1},
   :door=&gt;{:x=&gt;1, :y=&gt;1},
   :key=&gt;{:x=&gt;2, :y=&gt;2},
   :monsters=&gt;[[{:x=&gt;1, :y=&gt;2}]]
   }```

When we call this method with a grid size of four and three monsters, we get the results:
</code></pre>




<p> {
   :player=>{:x=>2, :y=>1},
   :door=>{:x=>4, :y=>3},
   :key=>{:x=>4, :y=>2},
   :monsters=>[
    [{:x=>1, :y=>3}], [{:x=>3, :y=>4}], [{:x=>4, :y=>1}]]
  }
  ```</p>




<p>We&rsquo;ve done it! We started with a scary sounding requirement, &ldquo;generate a number of random and unique &lsquo;x&rsquo; and &lsquo;y&rsquo; coordinates for a grid of a given size.&rdquo; We brainstormed about how we wanted the data to look and we divided it into simpler and simpler parts. We broke that down into basic procedural tasks with a hard coded example. Then we abstracted away each of the hard coded parts with information from the requirements, until we produced a general and powerful piece of code.</p>




<p>Good luck and happy coding!</p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-06-04T12:39:18-04:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>12:39 pm</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/algorithm/'>algorithm</a>, <a class='category' href='/blog/categories/flatiron/'>flatiron</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/school/'>school</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/05/21/react-containers-and-components-classes-vs-functions/">React Containers and Components: Classes vs Functions</a></h2>
  
  <p>
    <h2>What is Refactoring?</h2>




<p>First, a quick note on refactoring code for those new to the idea. Lot&rsquo;s of different configurations and styles of code will get the job done. Refactoring is about organizing and cleaning up your code for a few reasons.</p>




<p>First is readability. If someone else is going to work on something you built, you want to give them an easy way to understand what is going on. Not to mention, if you want to pick up an old codebase after a few months, you want to leave yourself a nice rode map to what things are doing and where. Refactoring your code will help keep concerns separate and will tell you exactly where to look to find each piece of functionality.</p>




<p>Second is optimization. This is a bit trickier and has less to do with organization and naming conventions and more to do with an understanding of which operations and methods are more costly to perform than others. There are a lot of great resources on this, but we&rsquo;re going to stick with the readability side of refactoring for this post.</p>




<h2>What is Component Design?</h2>




<p>When deep into a code project, I can get tunnel vision on the tasks I&rsquo;m trying to solve. I&rsquo;m deep into a file, I know exactly where everything is and how it all interacts. But when I come back to that document a day later, it just looks like a mess. If a bug creeps in, I&rsquo;m helpless. The component container design pattern is a really helpful way to organize React code. There are a few simple rule of thumb which we will demo in the rest of the post. Simply put, Containers are responsible for fetching data, keeping state and behavior, and passing the relevant bits of info down to its children. Components are ideally simple functions that receive props from their parent container and render HTML as JSX.</p>




<h2>Let&rsquo;s Build a Simple App in One Messy Place</h2>




<p>To demo this idea, we&rsquo;re going to build a very simple PetBook app with three pieces. First there is a simple nav bar with our Logo. Second there is a form to add animal names. Third, there is a list of the animals we&rsquo;ve entered. The App will work like this:</p>




<p><img src="/assets/petbook.gif" alt="PetBook demo gif" /></p>




<p>We&rsquo;re using three files to build PetBook: index.html, index.js, and app.js. We&rsquo;re also using Materialize CSS for some styling. Let&rsquo;s take a look at our index.html page:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!DOCTYPE html&gt;
</span><span class='line'>&lt;html&gt;
</span><span class='line'>  &lt;head&gt;
</span><span class='line'>    &lt;meta charset="utf-8"&gt;
</span><span class='line'>    &lt;title&gt;React Intro&lt;/title&gt;
</span><span class='line'>    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css"&gt;
</span><span class='line'>  &lt;/head&gt;
</span><span class='line'>  &lt;body&gt;
</span><span class='line'>
</span><span class='line'>    &lt;div id="container" class="container"&gt;&lt;/div&gt;
</span><span class='line'>
</span><span class='line'>    &lt;script type="text/javascript" src='bundle.js'&gt;&lt;/script&gt;
</span><span class='line'>  &lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>




<p>It&rsquo;s super short and sweet. We&rsquo;re bundling our files using webpacks to make development iterations quick and painless. Otherwise, our entire app is being rendered in the container div. Next, let&rsquo;s take a look at index.js:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import React from 'react'
</span><span class='line'>import ReactDOM from 'react-dom'
</span><span class='line'>import App from './App'
</span><span class='line'>ReactDOM.render(&lt; App /&gt;, document.getElementById('container'))</span></code></pre></td></tr></table></div></figure>




<p>Another super short and sweet file. All this is doing is requiring react and react-dom and rendering the app to the index.html page by attaching its contents to the div with the id of &lsquo;container.&rsquo; Finally, let&rsquo;s take a look at where all the magic is happening. Our colossal App.js file:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import React, {Component} from 'react'
</span><span class='line'>export default class App extends Component {
</span><span class='line'>  constructor() {
</span><span class='line'>    super()
</span><span class='line'>    this.state = {
</span><span class='line'>      input: '',
</span><span class='line'>      animals: []
</span><span class='line'>    }
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  handleChange(e){
</span><span class='line'>    this.setState({
</span><span class='line'>      input: e.target.value
</span><span class='line'>    })
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  handleSubmit(e) {
</span><span class='line'>    e.preventDefault()
</span><span class='line'>    this.setState({
</span><span class='line'>      animals: [...this.state.animals, this.state.input]
</span><span class='line'>    })
</span><span class='line'>    this.setState({
</span><span class='line'>      input: ''
</span><span class='line'>    })
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  render() {
</span><span class='line'>    return (
</span><span class='line'>      &lt;div className='zoobook'&gt;
</span><span class='line'>
</span><span class='line'>        &lt;nav&gt;
</span><span class='line'>          &lt;div className='nav-wrapper'&gt;
</span><span class='line'>            &lt;a className='brand-logo'&gt;
</span><span class='line'>              PetBook
</span><span class='line'>            &lt;/a&gt;
</span><span class='line'>          &lt;/div&gt;
</span><span class='line'>        &lt;/nav&gt;
</span><span class='line'>        &lt;div className="row"&gt;
</span><span class='line'>          &lt;div className="col s6"&gt;
</span><span class='line'>            &lt;div className={'zoo-form'}&gt;
</span><span class='line'>              &lt;h3&gt;Add a Pet&lt;/h3&gt;
</span><span class='line'>              &lt;form onSubmit={this.handleSubmit.bind(this)}&gt;
</span><span class='line'>                &lt;label&gt;
</span><span class='line'>                  Animal Name:
</span><span class='line'>                  &lt;input type='text' value={this.state.input} onChange={this.handleChange.bind(this)}/&gt;
</span><span class='line'>                &lt;/label&gt;
</span><span class='line'>                &lt;input className="waves-effect waves-light btn" type='submit' value='Create Animal'/&gt;
</span><span class='line'>              &lt;/form&gt;
</span><span class='line'>            &lt;/div&gt;
</span><span class='line'>          &lt;/div&gt;
</span><span class='line'>
</span><span class='line'>          &lt;div className="col s6"&gt;
</span><span class='line'>            &lt;div className='zoo-list'&gt;
</span><span class='line'>              &lt;h3&gt;Your Pets&lt;/h3&gt;
</span><span class='line'>              &lt;ul&gt;
</span><span class='line'>                {this.state.animals.map(function(animal) {return &lt;div className="card-panel" key={animal}&gt;{animal}&lt;/div&gt;})}
</span><span class='line'>              &lt;/ul&gt;
</span><span class='line'>            &lt;/div&gt;
</span><span class='line'>          &lt;/div&gt;
</span><span class='line'>
</span><span class='line'>        &lt;/div&gt;
</span><span class='line'>
</span><span class='line'>      &lt;/div&gt;
</span><span class='line'>    )
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>




<p>This file is huge. Especially for such a simple app! This will get very tricky to debug or to add to in a hurry, not to mention, working on this file will wear out your mouse&rsquo;s scroll wheel really quickly. Looking at the working app, it&rsquo;s pretty easy to see that there are three things going on. First, there&rsquo;s the nav bar. Second is the form for entering animal names. Last is the Pet list. I wonder if there&rsquo;s a way to organize this. There totally is!</p>




<h2>Separating Concerns Out Nicely</h2>




<p>Using our guidelines from before, we can say that the form is the only part of our app responsible for creating and handling data, so that will be a stateful component. Everything else can be a functional, or presentational container. We&rsquo;re going to organize all this into a folder called &lsquo;src&rsquo;. Don&rsquo;t forget to update any dependencies in your application to account for the path changes. The App.js file now lives in our containers folder and is only responsible for rendering the nav bar and the Pet Form container. It now looks like this:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import React, {Component} from 'react'
</span><span class='line'>import NavBar from './NavBar'
</span><span class='line'>import PetFormContainer from '../containers/PetFormContainer'
</span><span class='line'>function App() {
</span><span class='line'>  return (
</span><span class='line'>    &lt;div className='zoobook'&gt;
</span><span class='line'>      &lt;NavBar /&gt;
</span><span class='line'>      &lt;PetFormContainer /&gt;
</span><span class='line'>    &lt;/div&gt;
</span><span class='line'>  )
</span><span class='line'>}
</span><span class='line'>export default App</span></code></pre></td></tr></table></div></figure>




<p>Short and sweet! Next is our nav bar component. The job of our nav bar is only to render the nav bar. Pretty straight forward, right! In the future. If we want to add more pages to this application, we can include this nav bar container and keep any changes consistent across our entire app just by updating this file. Here it is:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import React from 'react'
</span><span class='line'>function NavBar() {
</span><span class='line'>  return (
</span><span class='line'>    &lt;nav&gt;
</span><span class='line'>      &lt;div className='nav-wrapper'&gt;
</span><span class='line'>        &lt;a className='brand-logo'&gt;
</span><span class='line'>          PetBook
</span><span class='line'>        &lt;/a&gt;
</span><span class='line'>      &lt;/div&gt;
</span><span class='line'>    &lt;/nav&gt;
</span><span class='line'>  )
</span><span class='line'>}
</span><span class='line'>export default NavBar</span></code></pre></td></tr></table></div></figure>




<p>This is looking great so far, but we haven&rsquo;t gotten to the meat and potatoes of our petbook app yet. Here is our Pet  Form container it is a stateful classical container that inherits from the react compnent library. It&rsquo;s responsible for controlling the user input, maintaining a list of the user&rsquo;s pets in an animals array, and it is able to add a new animal from the form to the animals array and rerender the Pet List component to display the changes. Here it is:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import React, {Component} from 'react'
</span><span class='line'>import PetList from '../components/PetList'
</span><span class='line'>export default class PetFormContainer extends Component {
</span><span class='line'>  constructor() {
</span><span class='line'>    super()
</span><span class='line'>    this.state = {
</span><span class='line'>      input: '',
</span><span class='line'>      animals: []
</span><span class='line'>    }
</span><span class='line'>  }
</span><span class='line'>  handleChange(e){
</span><span class='line'>    this.setState({
</span><span class='line'>      input: e.target.value
</span><span class='line'>    })
</span><span class='line'>  }
</span><span class='line'>  handleSubmit(e) {
</span><span class='line'>    e.preventDefault()
</span><span class='line'>    this.setState({
</span><span class='line'>      animals: [...this.state.animals, this.state.input]
</span><span class='line'>    })
</span><span class='line'>    this.setState({
</span><span class='line'>      input: ''
</span><span class='line'>    })
</span><span class='line'>  }
</span><span class='line'>  render() {
</span><span class='line'>    return (
</span><span class='line'>      &lt;div className="row"&gt;
</span><span class='line'>        &lt;div className="col s6"&gt;
</span><span class='line'>          &lt;div className={'zoo-form'}&gt;
</span><span class='line'>            &lt;h3&gt;Add a Pet&lt;/h3&gt;
</span><span class='line'>            &lt;form onSubmit={this.handleSubmit.bind(this)}&gt;
</span><span class='line'>              &lt;label&gt;
</span><span class='line'>                Animal Name:
</span><span class='line'>                &lt;input type='text' value={this.state.input} onChange={this.handleChange.bind(this)}/&gt;
</span><span class='line'>              &lt;/label&gt;
</span><span class='line'>              &lt;input className="waves-effect waves-light btn" type='submit' value='Create Animal'/&gt;
</span><span class='line'>            &lt;/form&gt;
</span><span class='line'>          &lt;/div&gt;
</span><span class='line'>        &lt;/div&gt;
</span><span class='line'>        &lt;PetList animals={this.state.animals}/&gt;
</span><span class='line'>      &lt;/div&gt;
</span><span class='line'>    )
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>




<p>A lot of this should look familiar from our original App.js file. This is the longest file in our new design pattern, but it is much simpler than our original App file. It is only responsible for maintaining the state, keeping an eye on the form, and sending along any new info to the Pet List component. Here&rsquo;s that final component:</p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import React from 'react'
</span><span class='line'>function PetList( props ) {
</span><span class='line'>  return (
</span><span class='line'>    &lt;div className="col s6"&gt;
</span><span class='line'>      &lt;div className='zoo-list'&gt;
</span><span class='line'>        &lt;h3&gt;Your Pets&lt;/h3&gt;
</span><span class='line'>        &lt;ul&gt;
</span><span class='line'>          {props.animals.map(function(animal) {return &lt;div className="card-panel" key={animal}&gt;{animal}&lt;/div&gt;})}
</span><span class='line'>        &lt;/ul&gt;
</span><span class='line'>      &lt;/div&gt;
</span><span class='line'>    &lt;/div&gt;
</span><span class='line'>  )
</span><span class='line'>}
</span><span class='line'>export default PetList</span></code></pre></td></tr></table></div></figure>




<p>The only difference here is that the Pet List component is getting the animals array passed from the Pet Form container as a prop.</p>




<h2>Conclusion</h2>




<p>That&rsquo;s it. Our singe file app has been successfully refactored into a component and container design pattern. It will make expansion of our app much simpler by modularizing the responsibilities. It will also make the app much easier to maintain since we know exactly where to go if anything breaks. No more long scrolling sessions, straining our eyes to find a section of our app file. Happy coding!</p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-05-21T21:34:14-04:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2017</span></span> <span class='time'>9:34 pm</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/class/'>class</a>, <a class='category' href='/blog/categories/components/'>components</a>, <a class='category' href='/blog/categories/containers/'>containers</a>, <a class='category' href='/blog/categories/flatriron/'>flatriron</a>, <a class='category' href='/blog/categories/functional/'>functional</a>, <a class='category' href='/blog/categories/presentational/'>presentational</a>, <a class='category' href='/blog/categories/react/'>react</a>, <a class='category' href='/blog/categories/school/'>school</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/04/30/create-a-quick-tdd-enironment-for-javascript/">Create a Quick TDD Environment for Javascript</a></h2>
  
  <p>
    <h2>Getting started</h2>




<p>Our goal is to get a project up and running quickly. If you haven&rsquo;t done this before, first we want to create a project directory, create a github repository, and then link the two. Here are the basic steps:</p>




<ol>
<li>Navigate to your development folder in Terminal.</li>
<li>Type <code>mkdir "project-name"</code> in terminal to create a project folder.</li>
<li>Type <code>cd "project-name"</code> in Terminal to navigate into your project directory.</li>
<li>Type <code>git init</code> in Terminal to set up your directory as a git repository.</li>
<li>Create a readme file by typing <code>touch README.md</code> in Terminal.</li>
<li>Add and commit your new repository by typing <code>git add .</code> and  <code>git commit -m "first commit"</code>.</li>
<li>To create a github repository, login to <a href="https://github.com">github</a> in your browser and navigate to <a href="https://github.com/new">github/new</a> to create a new repository.</li>
<li>Once there, give your repository a name, use the same one as your project directory, and leave the &ldquo;Initialize this repository with a README&rdquo; option unchecked.</li>
<li>Click &ldquo;Create Repository&rdquo;.</li>
<li>Back in Terminal, type <code>git remote add origin git@github.com:your-git-username/your-repository-name.git</code> to set up the connection between the folder on your computer, and the repository in github.</li>
<li>Then type <code>git push -u origin master</code> to push the files, ie. your readme, from your project folder to github.</li>
</ol>




<p>Now that your project is up and running, it&rsquo;s time to create a testing environment.</p>




<h2>Jasmine versus Mocha</h2>




<p>There are two very popular testing libraries for Javascript, Jasmine and Mocha. Both are great, and weighing the pros and cons of each is enough for another blog post. Some people have already written great articles on the topic here:</p>




<ol>
<li><a href="http://www.techtalkdc.com/which-javascript-test-library-should-you-use-qunit-vs-jasmine-vs-mocha/">Kevin Groat</a></li>
<li><a href="https://marcofranssen.nl/jasmine-vs-mocha/">Marco Franssen</a></li>
</ol>




<p>I&rsquo;m more familiar with Mocha, so we&rsquo;re going to go with that.</p>




<h2>Setting up Mocha</h2>




<p>First we need to create our NPM dependencies, with a package.json file. There is a great walkthrough built in for us by typing <code>npm init</code> in Terminal. Just follow the promts and include a name, repo, and some other metadata in the form. That will create a package.json file in your project folder. Don&rsquo;t forget to add/commit your changes frequently.</p>




<p>Create a mocha dependency in your project package.json file by typing <code>npm install --save mocha</code> in Terminal. Create a test file with <code>atom test/test.js</code>. I&rsquo;m using Atom, but you can replace that with your editor of choice.</p>




<p>This is where it can get pretty hairy. There is a lot to install to get up and running. I would advise starting off with a simple test and some simple code just to have something to test against. We also need to require the files with our code and assign it to a variable, as well as require any other mocha assertion libraries you want to use. My basic test.js setup looks like this:</p>




<p>In test.js:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">var</span> <span class="n">expect</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;expect.js&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">var</span> <span class="n">myCode</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;../index.js&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">it</span><span class="p">(</span><span class="s1">&#39;returns &quot;Hello, world!&quot; as a string&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">expect</span><span class="p">(</span><span class="n">myCode</span><span class="o">.</span><span class="n">test</span><span class="p">())</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">be</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">})</span>
</span><span class='line'>
</span><span class='line'><span class="c1">## All other tests below</span>
</span></code></pre></td></tr></table></div></figure>




<p>In terminal: <code>npm install --save expect.js</code></p>




<p>Now we&rsquo;re ready to start writing our functions. If you want to build out this application, you can move all your inclusions and exporting responsibilities to a root.js file in your test folder. That will allow you to write your functions normally and branch out to other .js files without things getting to messy. But more on that in another blog.</p>




<p>to pass our first test, add the following code to index.js:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">var</span> <span class="nb">test</span> <span class="o">=</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;Hello, world!&quot;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<p>But we&rsquo;re still not passing our test yet. With mocha, it&rsquo;s not enough to just include it in the test.js file, we need to export them from our index.js file as well. We do this with some general code at the bottom of our file that we update with each additional function. Here&rsquo;s what we need at the bottom of index.js to export our first test:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">if</span><span class="p">(</span><span class="n">typeof</span> <span class="n">exports</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">exports</span><span class="o">.</span><span class="n">test</span> <span class="o">=</span> <span class="nb">test</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<p>Now you should be passing your first test. Hurray! Now that you&rsquo;re up and running. The <a href="https://mochajs.org">mocha documentation</a> on how to write more complex tests is a great resource.</p>




<h2>Bonus</h2>




<p>You don&rsquo;t need to export every function in your index.js file. You only need to export the functions that your tests will call on. So if you have a function called <code>testTwo</code> that should accept two arguments, multiply them, and return the result, you can export it in your exports like <code>exports.testTwo = testTwo</code>. However, if that function just returns a helper function, called <code>multiplier(num1, num2)</code>, you would not need to export that function as well.</p>




<p>Here&rsquo;s what this test looks like in test.js:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">describe</span> <span class="p">(</span><span class="s1">&#39;test2&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">it</span><span class="p">(</span><span class="s1">&#39;multiplies two numbers together&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">expect</span><span class="p">(</span><span class="n">myCode</span><span class="o">.</span><span class="n">testTwo</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">be</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>




<p>And here is how you would pass it in index.js. Note that you do not need to export <code>multiplier</code>.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">var</span> <span class="n">testTwo</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">mulitplier</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">var</span> <span class="n">mulitplier</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="n">typeof</span> <span class="n">exports</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">exports</span><span class="o">.</span><span class="n">test</span> <span class="o">=</span> <span class="nb">test</span><span class="p">;</span>
</span><span class='line'>    <span class="n">exports</span><span class="o">.</span><span class="n">testTwo</span> <span class="o">=</span> <span class="n">testTwo</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<p>Special thanks to <a href="https://github.com/jjseymour">JJ</a> for guiding me through this process!</p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-04-30T20:32:44-04:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>8:32 pm</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/development/'>development</a>, <a class='category' href='/blog/categories/driven/'>driven</a>, <a class='category' href='/blog/categories/flatiron/'>flatiron</a>, <a class='category' href='/blog/categories/jasmine/'>jasmine</a>, <a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/mocha/'>mocha</a>, <a class='category' href='/blog/categories/school/'>school</a>, <a class='category' href='/blog/categories/tdd/'>tdd</a>, <a class='category' href='/blog/categories/test/'>test</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/04/13/bringing-terminal-applications-to-life-cli-animations-with-ruby/">Bringing Terminal Applications to Life: CLI Animations With Ruby</a></h2>
  
  <p>
    <h2>Animation in the Terminal?!</h2>




<p>While working on a command line application, with <a href="https://github.com/szrharrison">Scott Harrison</a>, we decided to add some flair with an animation in the terminal. While looking for inspiration, and to see if it is even possible, we found this amazing, and very long example. Just type <code>telnet towel.blinkenlights.nl</code> into your terminal to connect with a telnet server that broadcasts Star Wars Episode IV!</p>




<p>The project we were working on was pulling data from  <a href="https://data.cityofnewyork.us/Social-Services/NYC-Wi-Fi-Hotspot-Locations/a9we-mtpn">NYC Open Data</a>, specifically from the database for free public wifi locations, and using a google maps gem for rails, called geocoder, to help find the closest free wifi access point. While looking for a suitable animation, we found this on <a href="https://giphy.com/gifs/jordan-hill-wifi-qzczxN15LFGY8/">gify</a>, and we knew we had to make it happen.</p>




<p><img src="/assets/giphy.gif" alt="Wifi clip from GIPHY" /></p>




<p>Aside for the fun of it, why would you want to run an animation in a terminal application? We found our application hit some delays when looking for the user&rsquo;s IP address and while hitting the google maps api. A neat animation works as a loading screen, while that happens in the background. That isn&rsquo;t what we did, but that would be a great project for refactoring.</p>




<h2>The plan</h2>




<p>Here&rsquo;s a checklist; we&rsquo;ll go into detail below:</p>




<ol>
<li>Find a clip</li>
<li>Extract individual frames</li>
<li>Convert each frame to ASCII</li>
<li>Add the folder with your slides to your project</li>
<li>Build an iterator method to loop through the frames</li>
</ol>




<h2>Building your files</h2>




<p>First, you&rsquo;ll need a clip that you want to animate, it can be saved as a gif, or even in a video format. We downloaded ours from the link above and it is formatted as an mp4 file. Then, you&rsquo;ll need to extract the frames from your clip. There is a nifty terminal tool to do this, called <a href="https://ffmpeg.org/about.html">ffmpeg</a>, that you can read more about. You&rsquo;ll need to make some decisions about where to start stop and stop your extraction, and many frames you want per second. Our command looked something like this: <code>ffmpeg -i wifinder_animation.mov -r 5 image-%02d.jpeg</code>.</p>




<p>After that it gets a bit tedious, you have to convert each image to ASCII art. Thankfully there are lots of free tools online that will do this for you. If we were dealing with a longer clip, we would have looked for a way to convert the entire folder in one go, but we just uploaded each frame to <a href="http://www.text-image.com/convert/ascii.html">this site</a>. Pro tip: name your files based on where you want your clip to start and stop, starting with something like &ldquo;1&rdquo; and counting up, so you can easily iterate through the images.</p>




<p>Then just add the folder with your beautiful ASCII art frames to your repo and get ready to build an animation!</p>




<h2>Building an animation</h2>




<p>To get started, we&rsquo;re going to write an animation method that will loop through our images in the animation folder one time.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="k">def</span> <span class="nf">animation</span>
</span><span class='line'>  <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">60</span>
</span><span class='line'>    <span class="nb">print</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[2J&quot;</span>
</span><span class='line'>    <span class="no">File</span><span class="o">.</span><span class="n">foreach</span><span class="p">(</span><span class="s2">&quot;ascii_animation/</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2">.rb&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">f</span> <span class="p">}</span>
</span><span class='line'>    <span class="nb">sleep</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mo">03</span><span class="p">)</span>
</span><span class='line'>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>First create a variable and set it to 1, then we&rsquo;ll start our iteration. For a 60 frame animation, we&rsquo;ll run our loop while our variable is less than 60. Then we&rsquo;ll clear the window by moving the cursor to the top right of the terminal window with <code>print "\033[2J"</code>. Then we&rsquo;ll loop through our animation folder, named &ldquo;ascii_animation&rdquo; in this example, using our variable to indicate the file name, 1.rb, 2.rb, 3.rb, etc, printing each line of our image to the terminal. Then we&rsquo;ll let the image stay on screen for .03 seconds &lsquo;sleep(0.03)&rsquo;. Finally we&rsquo;ll increment our iterator and begin the loop again.</p>




<p>If we want to run our animation multiple times, we can just put a loop method before our method call, like this: <code>3.times { animation }</code></p>




<p>Finally, if you want to freeze frame your animation somewhere in the middle, instead of the potentially boring last frame in your file, you can start another loop, this time ending at your target frame.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="k">def</span> <span class="nf">animation_with_a_great_final_frame</span>
</span><span class='line'>  <span class="mi">2</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">60</span>
</span><span class='line'>      <span class="nb">print</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[2J&quot;</span>
</span><span class='line'>      <span class="no">File</span><span class="o">.</span><span class="n">foreach</span><span class="p">(</span><span class="s2">&quot;ascii_animation/</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2">.rb&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">f</span> <span class="p">}</span>
</span><span class='line'>      <span class="nb">sleep</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mo">03</span><span class="p">)</span>
</span><span class='line'>      <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">30</span>
</span><span class='line'>    <span class="nb">print</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[2J&quot;</span>
</span><span class='line'>    <span class="no">File</span><span class="o">.</span><span class="n">foreach</span><span class="p">(</span><span class="s2">&quot;ascii_animation/</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2">.rb&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">f</span> <span class="p">}</span>
</span><span class='line'>    <span class="nb">sleep</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mo">03</span><span class="p">)</span>
</span><span class='line'>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>That&rsquo;s it! Now you can enjoy our sweet CLI wifi animation.</p>




<h2>Showtime!</h2>




<p><img src="/assets/wifinder_animation.gif" alt="WiFinder gif" /></p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-04-13T17:46:02-04:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>5:46 pm</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/animation/'>animation</a>, <a class='category' href='/blog/categories/ascii/'>ascii</a>, <a class='category' href='/blog/categories/cli/'>cli</a>, <a class='category' href='/blog/categories/flatiron/'>flatiron</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/school/'>school</a>, <a class='category' href='/blog/categories/terminal/'>terminal</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/03/21/whats-going-on-with-each-map-and-collect-in-ruby/">What's Going on With Find, Map, and Collect in Ruby</a></h2>
  
  <p>
    <h2>When should we use each vs. map or hash on Ruby Arrays?</h2>




<p>If you&rsquo;re like me, you&rsquo;ve done some weird things with the <em>each</em> method in Ruby arrays. One thing I used to do was create a new array in my method, iterate over the array passed in to the method as an argument and shovel the return value into my new array. That is a useful code smell to look out for when refactoring. But that is unnecessary since we have the <em>map</em> and <em>collect</em> methods! I didn&rsquo;t understand how to use those methods, when to use them instead of <em>each</em>, and what they would return.</p>




<p>FYI for the rest of the post, I&rsquo;m going to use &ldquo;<em>map</em>&rdquo; instead of <em>map</em> and <em>collect</em> because <em>map</em> and <em>collect</em> are identical. That is, they do the exact same thing. The only difference is that &ldquo;map&rdquo; is 3 characters to type but &ldquo;collect&rdquo; is more descriptive as to whats going. You can think of it like we&rsquo;re collecting our new array elements and returning that collection as an array.</p>




<p>If you&rsquo;re trying to do all that with <em>each</em> but adding on some <em>if</em> statements to determine what you&rsquo;re shoveling, you should look at some other methods like <em>find</em>, <em>select</em>, and many others!</p>




<h2>Yield is awesome!</h2>




<p>First, lets talk about what these iterator methods are doing. In order to dig into that, we need to discuss the <em>yield</em> keyword. <em>Yield</em> is a way to pass a block of code into an method with the arguments. For example, to demonstrate how <em>yield</em> interrupts a method to call on a separate block:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">interrupt_this_method</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;thing one&quot;</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="k">yield</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;thing two&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">interrupt_this_method</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#=&gt;</span>
</span><span class='line'><span class="err"></span><span class="n">thing</span> <span class="n">one</span><span class="err"></span>
</span><span class='line'><span class="mi">6</span>
</span><span class='line'><span class="err"></span><span class="n">thing</span> <span class="n">two</span><span class="err"></span>
</span></code></pre></td></tr></table></div></figure>




<p>The <em>yield</em> stops the method from putting the second statement until it has a chance to call whatever argument we passed into the method with the arguments in the block on the argument we pass into <em>yield</em>. We can use <em>yield</em> with a looping method like <em>while</em> to emulate our <em>each</em> and <em>map</em> methods to get under the hood.</p>




<h2>What is going on with Each?</h2>




<p>Now well write our own <em>each</em> method, without using <em>each</em>. Aside from giving us some insight into whats actually happening with our <em>each</em> method, it will show us how much time our higher level methods are saving us.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">generic_each_array_method_with_iterator</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
</span><span class='line'>  <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>  <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">array</span><span class="o">.</span><span class="n">length</span>
</span><span class='line'>    <span class="k">yield</span> <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>
</span><span class='line'>        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="n">array</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>So far, we have a generic method that takes an array as an argument, as well as a block of code, sets the variable i to 0 and operates our code on each element of our array, adding 1 to the i variable, between each iteration, and stopping the <em>yield</em> when weve hit all the elements. We then return the original array that was passed in. We can use this to pass any block into our method with any array. Lets give it a try:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">generic_each_array_method_with_iterator</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt;</span>
</span><span class='line'><span class="mi">2</span>
</span><span class='line'><span class="mi">4</span>
</span><span class='line'><span class="mi">6</span>
</span><span class='line'><span class="mi">8</span>
</span><span class='line'><span class="mi">10</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>Thats exactly what we get when we hard code the block into our method using <em>each</em>.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">times_two</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
</span><span class='line'>  <span class="n">array</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">times_two</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'><span class="c1">#=&gt;</span>
</span><span class='line'><span class="mi">2</span>
</span><span class='line'><span class="mi">4</span>
</span><span class='line'><span class="mi">6</span>
</span><span class='line'><span class="mi">8</span>
</span><span class='line'><span class="mi">10</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>Pretty cool, right! The <em>each</em> method allows us to user the elements in our array, and return the original array. As you can see, the <em>each</em> method is really easy to write, but a lot less flexible than the <em>yield</em> method. That is fine because we dont want to keep writing code strings to pass in with our arguments every time we want to use a method.</p>




<h2>What&rsquo;s going on with Map?</h2>




<p>Lets take a look at how <em>map</em> works. This is our generic <em>map</em> method that relies on <em>yield</em>, instead of the explicitly calling on <em>map</em>.</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">generic_map_array_method_with_iterator</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
</span><span class='line'>  <span class="n">new_array</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>  <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">array</span><span class="o">.</span><span class="n">length</span>
</span><span class='line'>    <span class="n">new_array</span> <span class="o">&lt;&lt;</span> <span class="k">yield</span><span class="p">(</span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="n">new_array</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>The difference here, from our generic <em>each</em> method, is that were creating a new array at the start of our method. Then, we shovel the results of our yielded block into the new array instead of just executing those blocks. At the end of the method, we return the new_array instead of the original array. So for the following argument and block this is what well get:</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">generic_map_array_method_with_iterator</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">}</span>
</span><span class='line'><span class="c1">#=&gt;  [2, 4, 6, 8, 10]</span>
</span></code></pre></td></tr></table></div></figure>




<p>Thats exactly what we get when we hard code our block into a map/collect method</p>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">multiply_array_elements_by_two</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
</span><span class='line'>  <span class="n">array</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span><span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">multiply_array_elements_by_two</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'><span class="c1">#=&gt; [2, 4, 6, 8, 10]</span>
</span></code></pre></td></tr></table></div></figure>




<p>Sweet!</p>




<h3>TL;DR</h3>




<p><em>Map</em> and <em>collect</em> are identical methods. If you want to perform some action on variables, call other methods depending on our array elements, etc., use <em>each</em>. If you want to return a new array based on some manipulation of your array, use <em>map</em>.</p>




<p>Happy coding!</p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-03-21T16:21:57-04:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2017</span></span> <span class='time'>4:21 pm</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/array/'>array</a>, <a class='category' href='/blog/categories/collect/'>collect</a>, <a class='category' href='/blog/categories/find/'>find</a>, <a class='category' href='/blog/categories/flatiron/'>flatiron</a>, <a class='category' href='/blog/categories/map/'>map</a>, <a class='category' href='/blog/categories/methods/'>methods</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/school/'>school</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
      
      <div class="row">
        <div class="col-md-offset-3 col-md-6">
          <article>
  <h2><a href="/blog/2017/03/14/my-first-post-on-octopress/">My First Post on Octopress</a></h2>
  
  <p>
    <p>&ldquo;Hello, World.&rdquo;</p>


  </p>
  <span class="meta">
    written 




<time class='entry-date' datetime='2017-03-14T19:02:43-04:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>7:02 pm</span></time>
    

<span class="categories">
  
    <a class='category' href='/blog/categories/flatiron/'>flatiron</a>, <a class='category' href='/blog/categories/school/'>school</a>
  
</span>


  </span>

  
</article>

        </div>
      </div>
      
    </div>
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - Sammy Steiner -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
